<html>
  <head>
    <script src="socket.io.js"></script>
    <script>
      let id = 0;
      const socket = io('http://localhost:3000');
      socket.on('connect', response => {
        console.log('Connected');
        console.log(socket);
      });
      socket.on('initialized', (message) => {
        console.log(message);
        if(message) {
          const data = {
            clientId: socket.id,
            guess: "anoaa"
          }
          socket.emit('guess', data, (response) => {
                    console.log(response);
                    data.guess = "anoaz";
            socket.emit('guess', data, (response) => {
              console.log(response);
              socket.emit('highscore', { clientId: data.clientId, name: "sjaakie" }, (response) => {
                console.log(response);

              });

            });

          });



        }

      });
      socket.on('events', function(data) {
        console.log('event', data);
      });
      socket.on('exception', function(data) {
        console.log('event', data);
      });
      socket.on('disconnect', function() {
        console.log('Disconnected');
      });
      function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
      }
      socket.on('identity', response => console.log('Identity:', response));
    </script>
  </head>

  <body></body>
</html>
